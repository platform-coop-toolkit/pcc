.child-pages {
  &.is-style-card,
  &.is-style-text-only {
    list-style: none;
    margin: 0 0 rem(40);
    padding-left: 0;

    .child-pages__child {
      a {
        border-bottom-color: var(--dark-mint);
        color: var(--dark-mint);
        display: block;
        line-height: 3;
        width: 100%;

        &:hover {
          border-bottom-color: var(--light-blue);
          color: var(--dark-mint);
        }

        &:focus,
        &:active {
          border-bottom-color: var(--blue);
          color: var(--off-white);

          &::after {
            background-color: var(--blue);
          }
        }

        &::after {
          content: "\e901";
          display: block;
          float: right;
          /* stylelint-disable */
          font-family: "pcc";
          /* stylelint-enable */
          font-size: rem(12);
          margin-top: rem(4);
          margin-left: rem(8);
        }
      }

      + .child-pages__child {
        margin-top: 0;
      }
    }

    .child-pages__image {
      display: none;
      margin: 0;

      img {
        width: 100%;
        height: auto;
      }
    }
  }

  &.is-style-card {
    .child-pages__child {
      position: relative;

      a {
        &::before {
          bottom: 0;
          content: "";
          left: 0;
          position: absolute;
          right: 0;
          top: 0;
        }
      }
    }
  }

  &.is-style-card-with-excerpt {
    list-style: none;
    padding-left: 0;

    .child-pages__child {
      max-width: $wp-blocks-container-lg;
      width: 100%;

      + .child-pages__child {
        margin-top: rem(70);
      }

      h2 {
        color: var(--dark-blue);
        margin-bottom: rem(20);
      }
    }

    .child-pages__image {
      margin: 0;

      img {
        height: auto;
        margin-top: $gutter;
        width: calc(100% - #{$gutter});
      }

      &:nth-child(odd) img {
        box-shadow: $gutter -1 * $gutter 0 var(--pale-blue);
      }

      &:nth-child(even) img {
        box-shadow: $gutter -1 * $gutter 0 var(--pale-red);
      }
    }

    .child-pages__text {
      border-top: solid rem(3) var(--dark-blue);
      grid-area: text;
      margin: rem(45) $gutter 0;
      padding: rem(12) 0 0;
    }
  }
}

@media screen and (min-width: $wp-blocks-breakpoint-lg) {
  .child-pages {
    &.is-style-text-only {
      align-content: space-between;
      display: flex;
      flex-direction: column;
      flex-wrap: wrap;
      height: rem(240);

      .child-pages__child {
        width: calc(50% - #{$gutter} / 2);
      }
    }

    &.is-style-card {
      column-gap: $gutter;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      margin: 0 0 rem(100);
      row-gap: rem(64);

      .child-pages__child {
        border-top: solid rem(3) var(--dark-blue);

        &:focus-within {
          border-top-color: var(--blue);
        }

        a {
          border-bottom: none;
          color: var(--dark-blue);
          font-size: rem(20);
          font-weight: $semibold;
          line-height: 1.5;
          margin-top: rem(6);

          &:hover {
            color: var(--dark-mint);
          }

          &:focus,
          &:active {
            color: var(--off-white);

            &::after {
              background-color: var(--blue);
            }
          }
        }
      }

      .child-pages__image {
        display: block;
      }
    }

    &.is-style-card-with-excerpt {
      .child-pages__child {
        column-gap: $gutter;
        display: grid;
        grid-column: 1 / 13;
        grid-template-areas: "image image image image image blank text text text text text text";
        grid-template-columns: repeat(12, 1fr);
        margin-left: auto;
        margin-right: auto;
        padding-left: $gutter;
        padding-right: $gutter;
        width: 100%;

        + .child-pages__child {
          margin-top: rem(40);
        }
      }

      .child-pages__image {
        grid-area: image;

        img {
          height: auto;
          margin-top: rem(20);
          width: calc(100% - #{rem(20)});
        }

        &:nth-child(odd) img {
          box-shadow: rem(20) -1 * rem(20) 0 var(--pale-blue);
        }

        &:nth-child(even) img {
          box-shadow: rem(20) -1 * rem(20) 0 var(--pale-red);
        }
      }

      .child-pages__text {
        border-top: solid rem(3) var(--dark-blue);
        grid-area: text;
        margin: 0;
        padding-top: 1.875rem;
      }
    }
  }
}

@media screen and (min-width: $wp-blocks-breakpoint-xl) {
  .child-pages {
    &.is-style-card-with-excerpt {
      .child-pages__child {
        max-width: $wp-blocks-container-xl;
        padding-left: initial;
        padding-right: initial;
      }
    }
  }
}
